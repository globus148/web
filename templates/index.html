{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1 class="my-4">Список новостей</h1>

    {% if current_user.is_authenticated %}
        <a href="/news" class="btn btn-primary mb-4">Добавить новость</a>
    {% endif %}

    <div class="list-group">
        {% for item in news %}
        <div class="list-group-item">
            <h3>{{ item.title }}</h3>
            <p>{{ item.content }}</p>
            <small class="text-muted">
                Автор: {{ item.user.name }} |
                {% if item.is_private %}Приватная{% else %}Публичная{% endif %}
            </small>

            {% if current_user.is_authenticated and current_user == item.user %}
                <div class="mt-2">
                    <a href="/news/{{ item.id }}" class="btn btn-warning btn-sm">Изменить</a>
                    <a href="/news_delete/{{ item.id }}" class="btn btn-danger btn-sm">Удалить</a>
                </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}